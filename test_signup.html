<!DOCTYPE html>
<html>
<head>
    <title>ì„ ìƒë‹˜ ë“±ë¡ í…ŒìŠ¤íŠ¸</title>
    <meta charset="UTF-8">
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: 0 auto; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        button { background: #6366f1; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #4f46e5; }
        #result { margin-top: 20px; padding: 15px; border-radius: 4px; }
        .success { background: #d1fae5; border: 1px solid #10b981; }
        .error { background: #fee2e2; border: 1px solid #ef4444; }
    </style>
</head>
<body>
    <h1>ì„ ìƒë‹˜ ë“±ë¡ í…ŒìŠ¤íŠ¸</h1>
    
    <form id="testForm">
        <div class="form-group">
            <label>ì´ë©”ì¼:</label>
            <input type="email" id="email" value="kkumettang@test.com" required>
        </div>
        
        <div class="form-group">
            <label>ë¹„ë°€ë²ˆí˜¸:</label>
            <input type="password" id="password" value="test1234!" required>
        </div>
        
        <div class="form-group">
            <label>ì´ë¦„:</label>
            <input type="text" id="name" value="ê¾¸ë©”ë•…ì„ ìƒ" required>
        </div>
        
        <div class="form-group">
            <label>ì—°ë½ì²˜:</label>
            <input type="tel" id="phone" value="010-5555-5555">
        </div>
        
        <div class="form-group">
            <label>í•™ì› ì´ë¦„:</label>
            <input type="text" id="academyName" value="ê¾¸ë©”ë•…í•™ì›" required>
        </div>
        
        <div class="form-group">
            <label>ì¸ì¦ ì½”ë“œ:</label>
            <input type="text" id="verificationCode" value="APXE7J" required>
        </div>
        
        <button type="submit">ì„ ìƒë‹˜ ë“±ë¡ ì‹ ì²­</button>
    </form>
    
    <div id="result"></div>

    <script>
        document.getElementById('testForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const data = {
                email: document.getElementById('email').value,
                password: document.getElementById('password').value,
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                academyName: document.getElementById('academyName').value,
                verificationCode: document.getElementById('verificationCode').value
            };
            
            console.log('ğŸ“¤ ìš”ì²­ ë°ì´í„°:', data);
            
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<p>ì²˜ë¦¬ ì¤‘...</p>';
            
            try {
                const response = await fetch('https://superplace-academy.pages.dev/api/teachers/apply', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                console.log('ğŸ“¥ ì‘ë‹µ:', result);
                
                if (result.success) {
                    resultDiv.className = 'success';
                    resultDiv.innerHTML = `
                        <h3>âœ… ì„±ê³µ!</h3>
                        <p><strong>ë©”ì‹œì§€:</strong> ${result.message}</p>
                        <p><strong>ì‹ ì²­ ID:</strong> ${result.applicationId}</p>
                        <p><strong>ì›ì¥ë‹˜:</strong> ${result.directorName}</p>
                    `;
                } else {
                    resultDiv.className = 'error';
                    resultDiv.innerHTML = `
                        <h3>âŒ ì‹¤íŒ¨</h3>
                        <p><strong>ì—ëŸ¬:</strong> ${result.error}</p>
                        ${result.details ? `<p><strong>ìƒì„¸:</strong> ${result.details}</p>` : ''}
                    `;
                }
            } catch (error) {
                console.error('âŒ ì—ëŸ¬:', error);
                resultDiv.className = 'error';
                resultDiv.innerHTML = `
                    <h3>âŒ ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬</h3>
                    <p>${error.message}</p>
                `;
            }
        });
    </script>
</body>
</html>
