# 🚨 긴급 수정 계획

## 발견된 문제

1. **선생님이 모든 학생을 볼 수 있음** (권한 필터링 미작동)
2. **반 배정 기능 필요** (/students 페이지에서)

## 즉시 수정 사항

### 1. 디버그: 현재 권한 상태 확인
- API: `/api/students` 호출 시 실제 필터링 여부
- 콘솔 로그 확인

### 2. 반 생성 후 테스트
- 반 3개 생성
- 선생님에게 1개 반 배정
- 실제로 필터링되는지 확인

### 3. 코드 수정 (필요 시)
- API 레벨에서 권한 체크 강화
- 프론트엔드에서 2중 체크

## 테스트 시나리오

### 시나리오 A: 권한 없음
- 김선생 (ID 18)
- 권한: `canViewAllStudents: false`, `assignedClasses: []`
- 예상: 학생 0명 표시
- 실제: ?

### 시나리오 B: 반 1개 배정
- 김선생 (ID 18)
- 권한: `canViewAllStudents: false`, `assignedClasses: [1]`
- 예상: 반 1의 학생만 표시
- 실제: ?

### 시나리오 C: 모두 공개
- 김선생 (ID 18)
- 권한: `canViewAllStudents: true`, `assignedClasses: []`
- 예상: 모든 학생 표시
- 실제: ?

## 실행 계획

1. ✅ 현재 학생 데이터 확인
2. ✅ 반 생성 (없으면)
3. ⏳ 김선생에게 권한 설정
4. ⏳ 실제 테스트
5. ⏳ 필터링 작동 여부 확인
6. ⏳ 문제 발견 시 코드 수정
7. ⏳ 재배포
