# 🤖 AI 학습 리포트 사용 가이드

## 📋 개요

AI 학습 리포트는 학생의 성적, 출석, 상담 기록을 자동으로 분석하여 맞춤형 학습 분석 리포트를 생성합니다.

## ✨ 주요 기능

### 1. **자동 분석 항목**
- 📊 **성적 분석**: 과목별 성적 추이와 강약점 파악
- 📈 **학습 패턴**: 출석률, 학습 태도 종합 분석  
- 💡 **맞춤 추천**: 개인별 학습 전략 제시
- 💌 **학부모 메시지**: 학부모에게 보낼 수 있는 완성된 메시지 자동 생성

### 2. **리포트 내용**
- 평균 점수 및 출석률
- 학습 태도 평가 (매우 우수/우수/양호/개선 필요)
- 강점 과목 분석
- 약점 과목 및 개선사항
- 선생님의 추천사항
- 다음 달 학습 목표
- AI 종합 분석
- 학부모 전달 메시지 (복사 가능)

## 🚀 사용 방법

### 1. 페이지 접속
```
https://superplace-academy.pages.dev/tools/ai-learning-report
```

### 2. 학생 선택 및 리포트 생성
1. 드롭다운에서 학생 선택
2. 리포트를 생성할 월 선택 (기본값: 이번 달)
3. "🤖 AI 리포트 자동 생성" 버튼 클릭
4. 생성된 리포트 확인

### 3. 리포트 활용
- 생성된 리포트 목록에서 원하는 리포트 클릭
- 상세 내용 확인
- 학부모 메시지 복사하여 카카오톡/문자 전송

## 📊 필요한 데이터

AI 리포트를 생성하려면 다음 데이터가 필요합니다:

### 1. **학생 정보** (students 테이블)
- 학생 기본 정보 등록 필수

### 2. **성적 데이터** (grades 테이블)
```sql
-- 과목별 성적 입력
INSERT INTO grades (student_id, subject, test_date, score, max_score) VALUES
  (1, '수학', date('now'), 85, 100),
  (1, '영어', date('now'), 92, 100);
```

### 3. **출석 데이터** (attendance 테이블)
```sql
-- 출석 기록 입력
INSERT INTO attendance (student_id, attendance_date, status) VALUES
  (1, date('now'), 'present'),
  (1, date('now', '-1 day'), 'absent');
```
- status: 'present' (출석), 'absent' (결석), 'late' (지각)

### 4. **상담 기록** (counseling 테이블) - 선택사항
```sql
-- 상담 기록 입력
INSERT INTO counseling (student_id, counseling_date, counselor_name, content) VALUES
  (1, date('now'), '김선생님', '학습 상담 내용');
```

## 🧪 테스트 데이터 생성

테스트를 위한 샘플 데이터를 생성하려면:

```bash
# Turso CLI 사용
turso db shell [데이터베이스명] < create_test_data_for_ai_report.sql

# 또는 Turso 웹 콘솔에서 SQL 직접 실행
```

## 📱 API 엔드포인트

### 1. 리포트 생성
```http
POST /api/learning-reports/generate
Content-Type: application/json

{
  "student_id": 1,
  "report_month": "2026-01"
}
```

### 2. 학생별 리포트 목록 조회
```http
GET /api/learning-reports/:student_id
```

### 3. 리포트 상세 조회
```http
GET /api/learning-reports/detail/:report_id
```

## 🎯 AI 분석 로직

### 학습 태도 평가 기준
- **매우 우수**: 출석률 ≥ 95% AND 평균 점수 ≥ 85점
- **우수**: 출석률 ≥ 90% AND 평균 점수 ≥ 80점
- **양호**: 위 조건에 미달하나 괜찮은 수준
- **개선 필요**: 출석률 < 85% OR 평균 점수 < 70점

### 분석 알고리즘
1. 선택한 월의 모든 성적 데이터 집계
2. 출석 데이터 분석 (출석/결석/지각 비율)
3. 강점 과목: 가장 높은 점수의 과목
4. 약점 과목: 가장 낮은 점수의 과목 (75점 미만)
5. 개선사항 및 추천사항 자동 생성
6. 학부모 전달 메시지 완성

## 💡 활용 팁

1. **정기적인 리포트 생성**: 매월 말 학생별 리포트 생성
2. **학부모 소통**: 생성된 메시지를 카카오톡/문자로 전송
3. **성적 추이 관리**: 월별 리포트 비교로 학습 패턴 파악
4. **상담 자료**: 학부모 상담 시 리포트 활용
5. **목표 설정**: 다음 달 목표를 기반으로 학습 계획 수립

## 🔧 문제 해결

### 학생 목록이 비어있는 경우
- 학생 관리 페이지에서 학생 등록 필요

### 리포트 생성이 안 되는 경우
- 해당 월의 성적/출석 데이터 확인
- 최소 1개 이상의 성적 데이터 필요

### "데이터 없음" 메시지가 나오는 경우
- 선택한 월에 데이터가 없음
- 다른 월 선택 또는 데이터 입력 후 재시도

## 📞 지원

문의사항이 있으시면 관리자에게 연락주세요.

---

**작성일**: 2026-01-17  
**버전**: 1.0.0
